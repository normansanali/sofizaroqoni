<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="I noticed that many users were frustrated that the split screen multitasking in iOS 9 was only being brought to the iPad Air 2 and future iPads. If youre an iPad Mini 3 owner then I think youre rightfully upset, as your tablet launched at the same time as the Air 2. Users who arent"><meta name=author content="Aldo Pusey"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=ChirpBlog><title>The Performance Implications of Multitasking - ChirpBlog</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[ChirpBlog]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-07-11>July 11, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>The Performance Implications of Multitasking</h1><section class=body itemprop=articleBody><p>I noticed that many users were frustrated that the split screen multitasking in iOS 9 was only being brought to the iPad Air 2 and future iPads. If you’re an iPad Mini 3 owner then I think you’re rightfully upset, as your tablet launched at the same time as the Air 2. Users who aren’t aware of things like how much RAM an iOS device has may see this as artificial segmentation. Unfortunately, it’s really a result of the fact that every iOS device before the iPad Air 2 had only 1GB of RAM at most. The iPad Air 2 has 2GB of RAM, and this is crucial to enabling multitasking. But with iOS already running into RAM limitations just running a single intensive app on 1GB devices, it’s very reasonable to question whether or not even 2GB is enough to be running two applications. There’s also the question of whether or not the CPU is up to the task. To try to answer these questions about CPU and memory usage I’ve constructed a couple of use cases which attempt to saturate these components of the system.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9605/PhotoSaf2_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>Since Apple’s default apps are so lightweight, it’s difficult to set up an actual CPU test for multitasking right now. During this test I had Photos in a 50/50 split with Safari, along with a video playing using picture-in-picture. Since nothing was going on in Safari the CPU usage was very low. Decoding video occurs on its own fixed function blocks as well, so there’s very little CPU usage there. If you decide to try and play Hi10P or HEVC files in another application then you might see CPU usage rise very high during video decoding, but that’s a very limited set of users.</p><p>I found that editing in the Photos app seemed to be the most intensive task that you can do with Apple’s default apps, and even it only uses 50-60% of a single core on A8X. Backboardd is also using an additional 24% of a core as it handles information coming from various device sensors and input. As far as Apple’s apps go, A8X is more than fast enough to handle running two applications at once.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9605/PhotoE%20copy_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>Once you consider some more intensive third party apps things get a bit more stressful for the system. While I can’t test this with a split view due to the fact that no third party apps support it yet, you can see above that Adobe’s Photoshop Express application can use an entire CPU core and 65% of another simply by applying photos to filters and rendering the changes in real time. If you were to run two apps of this intensity you would still likely not saturate A8X’s CPU capabilities as you would need to be interacting with both apps at the same time, but it does highlight the possibility that if one application is doing any sort of intensive work on its own it could end up having a negative impact on the performance of the other active application. However, I think for 99% of use cases there’s nothing to worry about as far as CPU performance goes when multitasking on the iPad Air 2.</p><p>My test of RAM naturally involved Safari. Safari is an app that quite frankly does not work incredibly well on any iPad except for the Air 2. The reason I say this is because there’s a very rapid eviction of tabs due to the limited amount of memory on those devices. I can recall situations on iOS 7 where an iPad Mini Retina was unable to keep three heavy tabs in memory at the same time. In my test case I have Safari with 6 tabs open. These tabs are all pages from a certain technology website which has particularly heavy pages. With all six pages loaded into memory, I then open the Apple Maps app and enter a split screen view, and I then proceed to bring the map to a 3D city view which requires the caching of various models and textures in memory. Below you can see my observed memory usage.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9605/onthevergeofdestruction_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>As you can see, the Safari process and all its tabs ends up using a whopping 728.12MB of RAM. A 3D view of New York City in Maps uses another 322.73MB on top of that, for a total of 1.05GB. On top of that you’ll have something between 100 and 200MB used for general background processes and the iOS system. This makes it pretty clear why Apple has limited multitasking to only the iPad Air 2, as a use case with only two default apps can already use over 1GB before you even consider what the system needs. One could argue that Safari could evict tabs to free up memory, but there are other applications that can’t jettison memory that easily, and even then evicting tabs from memory creates a poor user experience. That brings us to the next question: is even 2GB of RAM enough?</p><p>Since most of Apple’s included applications are fairly lightweight, it’s safe to say that you won’t come close to using 2GB of memory even when multitasking unless you open a very large number of Safari tabs. However, many third party applications can be very complex. You could be handling very large images, or drawing complicated 3D scenes. Naturally, these applications will require more memory to keep all of the assets that they’re working with accessible.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9605/paper_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The above image shows you the memory usage when the foreground app on a device is Paper by FiftyThree. This is my favorite mobile drawing application, and it’s what one would call a very simple 2D drawing app. You’re not working with extremely high res bitmaps, or RAW image files, or 3D models. Despite that, I was able to see memory usage peak as high as 376MB. In a theoretical case where one had paper in split screen view with Safari, your total RAM usage for the entire system would be somewhere between 1.1 and 1.2GB. This is still well below the total amount of memory the iPad Air 2 has, but a web browser and a simple 2D drawing app in split screen is hardly the most RAM intensive situation I can imagine. If you were to have two applications with a memory footprint as large as or even larger than my Safari example then you could end up running into the 2GB memory wall. This isn’t even considering the memory impact of picture-in-picture windows, or spikes in memory caused by loading in new assets due to the user resizing the split between two apps or interacting with the applications themselves. Even if you can manage two active apps and the system processes with 2GB of RAM, you may end up having to evict every other background application to do so.</p><p>The question now is what the solution to this potential issue is. The most obvious is to start shipping devices with more RAM. Apple has traditionally been very conservative with the amount of memory they include in both their mobile devices and even their computers, but in the mobile world it’s becoming a more pressing issue as applications become far more advanced to make use of the enormous increases in mobile processing power, while the amount of memory they can use hasn’t increased nearly as much. Outside of more physical memory, developers can optimize their applications to manage and use RAM as effectively as possible. There’s only so much that a developer can do to minimize memory usage, and beyond that there’s really only one more solution, and it’s not something that I ever expected to see in mobile in the same way it was implemented in PCs. That solution is memory mapped data, which you may also know as swapping to disk or paging.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/9605/IMG_0062_575px.PNG style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>iOS has actually supported memory mapped data for a number of years, but in iOS 9 Apple is making it more well known to developers and recommending that it be used to manage the memory use of applications rather than its traditional purpose of streaming large files or groups of files that couldn't all fit into memory at once. Apple’s recommendation is that it be used for unchanging read only data, such as images. While this is a “solution”, it introduces the possibility of the user encountering page faults, which is an error/exception that occurs when the system is trying to access memory that is mapped into virtual memory but not actually loaded into RAM. This is something that, for the most part, has never existed on mobile devices. The reason for this is that even with NAND based storage solutions that are several orders of magnitude faster than spinning disk storage, your system memory and cache are significantly faster. Quite frankly, this situation is embarrassing when one considers how much users pay for iPhones and iPads.</p><p>I think in most cases, the 2GB of RAM in the iPad Air 2 will be enough to handle two foreground applications. That being said, with 2GB of RAM it’s still possible that you could get dangerously close to having an active app evicted from memory if they're very RAM heavy, such as applications that work with complicated 3D models. Multitasking may also require many background applications to be killed. Even with tricks like compressed memory and high levels of memory optimization, the fact of the matter is that the amount of RAM shipping in iOS devices has needed an increase for a while now, and in the case of the iPad I think it needed to go beyond 2GB. Not only could there be issues in the future with the iPad Air 2, but Apple has been forced to block the split screen feature from every other existing iPad, which is ridiculous when you consider that the best iPad Mini you could go and buy before last week is on the list incompatible devices. Paging is not really an acceptable solution, as the latency of NAND is somewhere around 10x higher than DRAM, and 25x higher than L3 cache.</p><p>As for CPU usage, I think A8X is more than fast enough to handle 99% of use cases. If you have an app rendering a video and are also editing photos at the same time you may run into issues, but beyond those edge cases you can expect very fluid performance in both active applications. I'm interested in seeing how the iPad Mini 4 handles multitasking with its dual core Apple A8 SoC.</p><p>What would have been optimal for RAM would be if Apple had moved to 2GB with A7 to offset the additional memory usage of 64bit applications, and moved to 4GB in the next generation iPads (Air 2, future devices) to accommodate multitasking. An accidental leak from Adobe implies that the iPad Pro actually will come with 4GB of RAM which is great, but it's possible that the user experience may suffer in heavy use cases with multitasking occurring on existing iPads. Alternatively developers will be limited in the functionality and experiences they can provide in order to function within the limited amount of memory they have to work with, which wouldn't be a good situation either.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIZ3fJRoq6GdXZ68tHmYZqmerpmaxHCE</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 ChirpBlog - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>